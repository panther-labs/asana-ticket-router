name: Update Hosted Root Group Membership
slug: modify_hosted_root_groups_zav
description: Used to add/remove users from AWS groups in hosted-root
parameters:
- name: Add or Remove
  slug: add_or_remove
  type: shorttext
  description: Add or remove user from group.
  default: Add
  options:
  - label: ""
    value: Add
  - label: ""
    value: Remove
- name: AWS Username
  slug: aws_username
  type: shorttext
  description: "User's AWS username\nExample: dennis_webb"
  regex: ^[a-z]+_[a-z]+$
- name: Group
  slug: group
  type: shorttext
  description: Group to add user to
  default: Operations
  options:
  - label: ""
    value: Operations
  - label: ""
    value: GuardDutyAdmins
  - label: ""
    value: AirplaneDevelopers
  - label: ""
    value: SecurityIncidentResponseGroup
  - label: ""
    value: HostedSourceOnBoardingGroup
  - label: ""
    value: MacieAdministrators
  - label: ""
    value: HostedRootOrgAdmins
  - label: ""
    value: ManageSnowflakeSecrets
  - label: ""
    value: HostedRootOrgReadOnly
  - label: ""
    value: UserManagement
  - label: ""
    value: OpsDeployment
  - label: ""
    value: Deployment
  - label: ""
    value: CD
  - label: ""
    value: ConduitManagement
  - label: ""
    value: ReadOnly
  - label: ""
    value: ForceMFA
  - label: ""
    value: PantherCLIUsers
  - label: ""
    value: Pentest
- name: Reason
  slug: reason
  type: shorttext
  description: Reason for access request
  regex: ^.{10,}$
- name: Temporary
  slug: temporary
  type: boolean
  description: Is access temporary?
  default: true
- name: Expires
  slug: expires
  type: date
  description: |-
    Date to automatically remove temporary access.
    Required if Temporary is true.
  required: false
- name: Airplane Test Run
  slug: airplane_test_run
  type: boolean
  description: Do not push to GitHub
python:
  entrypoint: modify_hosted_root_groups.py
  envVars:
    ECS_TASK_ROLE:
      value: arn:aws:iam::246537256134:role/AirplaneWorkers-CloudFormationReadOnly
requireRequests: true
allowSelfApprovals: false
timeout: 3600
